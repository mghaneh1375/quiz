<?phpnamespace App\models;use Illuminate\Database\Eloquent\Model;use Illuminate\Support\Facades\DB;/** * An Eloquent Model: 'Lesson' * * @property integer $id * @property integer $degree * @property integer $numQ * @property integer $coherence * @property string $nameL */class Lesson extends Model {    protected $table = 'lessons';    public $timestamps = false;    public static function whereDegree($dId) {        return DB::select('select * from lessons l where l.degree = ' . $dId .            ' or exists (select * from attachment a where a.l_id = l.id and a.d_id = ' . $dId . ')');    }    public static function whereId($target) {        return Lesson::find($target);    }    public function degree() {        return $this->belongsTo('Degree', 'degree', 'id');    }    public function subjects() {        return $this->hasMany('Subject', 'id_l', 'id');    }    public function questions() {        return $this->hasManyThrough('Question', 'Subject', 'id_l', 'subject_id');    }}